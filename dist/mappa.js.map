{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ccf1b6891c5afffd1a0f","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["StaticMap","options","init","pixels","scale","lat","lng","x","fromLngToPoint","width","y","fromLatToPoint","height","l","PI","pow","zoom","log","tan","radians","Leaflet","script","style","constructor","name","map","L","center","inertia","messages","tiles","ready","tileLayer","addTo","on","canvasOverlay","opacity","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","create","appendChild","canvas","elt","drawLayer","addLayer","_canvas","getContext","d","dragging","_draggable","_newPos","transform","position","containerPoint","latLngToContainerPoint","args","containerPointToLatLng","getZoom","callback","setTimeout","onChange","console","warn","TileMap","scriptTag","document","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","div","body","setAttribute","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","Math","floor","parseGeoJSON","data","result","features","Array","forEach","feature","f","eachFeature","undefined","push","hasOwnProperty","geometry","coordinates","geometries","tileMap","staticMap","Mappa","key","Object","assign","_options","userInput","el","i","option","module","exports","Google","imgUrl","createImage","size","valid","indexOf","s","m","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","google","maps","Map","mapTypeId","maptype","styles","OverlayView","draw","setMap","getPanes","overlayLayer","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","minZoom","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","parent","getCanvasContainer","getElementsByClassName","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","window","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ccf1b6891c5afffd1a0f","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n    this.init();\n  }\n\n  init(){\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } \n  }\n\n  latLngToPixel(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2 / this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2 / this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (radians(l) + PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nimport {\n  TileMap\n} from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options) {\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap() {\n    this.map = L.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      inertia: false,\n    });\n\n    if (!this.options.style) {\n      Leaflet.messages().tiles();\n      this.ready = true;\n    } else {\n    this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n    this.tiles.on('tileload', () => {\n      this.ready = true;\n    });\n    }\n\n    this.canvasOverlay();\n  }\n\n  canvasOverlay() {\n    if (this.tiles) {\n      this.tiles.options.opacity = this.options.opacity;\n    }\n    \n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas.elt);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {},\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if (this.ready) {\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return {\n        x: containerPoint.x,\n        y: containerPoint.y\n      };\n    } else {\n      return {\n        x: -100,\n        y: -100\n      };\n    }\n  }\n\n  fromPointToLatLng(...args) {\n    if (this.ready) {\n      return this.map.containerPointToLatLng(args);\n    } else {\n      return {\n        lat: -100,\n        lng: -100\n      };\n    }\n  }\n\n  getZoom() {\n    if (this.ready) {\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if (this.ready) {\n      callback()\n      this.map.on('move', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {\n        this.onChange(callback)\n      }, 200);\n    }\n  }\n\n  static messages() {\n    return {\n      tiles: () => {\n        console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png')\n      }\n    }\n  }\n}\n\nexport {\n  Leaflet\n};\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  overlay(canvas){\n    this.scriptTag.onload = () => {\n      let div = document.createElement('div');\n      document.body.appendChild(div);\n      div.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:10');\n      div.setAttribute('id', 'mappa');\n      this.canvas = canvas;\n      this.createMap();\n    };\n  }\n\n  latLngToPixel(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  pixelToLatLng(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\nexport * from './providers/static/StaticMap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristóbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ✓', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n\n    this.provider == undefined && (this.provider = 'StaticMap');\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options;\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.imgUrl += this.options.username + '/': this.imgUrl += 'mapbox/';\n    (this.options.style != undefined) ? this.imgUrl += this.options.style + '/': this.imgUrl += 'streets-v10/';\n    this.imgUrl += 'static/';\n    (this.options.overlay != undefined) && (this.imgUrl += this.options.overlay + '/');\n    this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.imgUrl += this.options[e] : this.imgUrl += 0;\n      i < 2 && (this.imgUrl += ',');\n    }) : this.imgUrl += 'auto';\n    this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.imgUrl += '@2x');\n    this.imgUrl += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n    (this.options.logo) ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n    (this.options.before_layer) ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n    return this.imgUrl\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas.elt);\n    }\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let offsetX = - Math.round(this.canvas.width / 2 - center.x);\n      let offsetY = - Math.round(this.canvas.height / 2 - center.y);\n      let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      google.maps.event.addListener(this.map, 'bounds_changed', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n    this.canvas.parent(this.map.getCanvasContainer());\n    this.canvas.elt.style.position = 'absolute';\n\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}