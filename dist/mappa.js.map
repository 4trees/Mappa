{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e50e1182fa8869f3d993","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["Leaflet","options","script","style","constructor","name","init","messages","tiles","map","L","center","lat","lng","zoom","inertia","tileLayer","addTo","on","ready","canvasOverlay","opacity","document","getElementsByClassName","background","backgroundColor","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","create","appendChild","canvas","elt","drawLayer","addLayer","_canvas","getContext","d","dragging","_draggable","_newPos","transform","x","y","position","containerPoint","latLngToContainerPoint","args","containerPointToLatLng","getZoom","callback","setTimeout","onChange","console","warn","StaticMap","fromLngToPoint","width","scale","fromLatToPoint","height","l","pixels","PI","pow","log","tan","radians","TileMap","scriptTag","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","div","body","setAttribute","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","Math","floor","parseGeoJSON","data","result","features","Array","forEach","feature","f","eachFeature","undefined","push","hasOwnProperty","geometry","coordinates","geometries","tileMap","staticMap","Mappa","key","Object","assign","_options","userInput","el","i","option","module","exports","Google","url","img","createImage","size","valid","indexOf","s","m","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","google","maps","Map","mapTypeId","maptype","styles","OverlayView","draw","setMap","getPanes","overlayLayer","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","minZoom","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","parent","getCanvasContainer","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","window","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e50e1182fa8869f3d993","// -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap () {\n    if(!this.options.style){\n      Leaflet.messages().tiles();\n      return\n    }\n\n    this.map = L.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      inertia: false,\n    });\n    this.map\n    this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n    this.tiles.on('tileload', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  canvasOverlay () {\n    if(this.tiles){\n      this.tiles.options.opacity = this.options.opacity;\n      document.getElementsByClassName('leaflet-container')[0].style.background = this.options.backgroundColor;\n    }\n\n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas.elt);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {},\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return {x:containerPoint.x, y:containerPoint.y};\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.containerPointToLatLng(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('move', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      tiles: () => {console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png')}\n    }\n  }\n}\n\nexport { Leaflet };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n  }\n\n  latLng(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2/this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2/this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (radians(l) + PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  append(canvas){\n    this.scriptTag.onload = () => {\n      let div = document.createElement('div');\n      document.body.appendChild(div);\n      div.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:999');\n      div.setAttribute('id', 'mappa');\n      this.canvas = canvas;\n      this.createMap();\n    };\n  }\n\n  latLng(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  point(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristóbal Valenzuela\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ✓', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options;\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.url = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.init();\n    this.img = this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.url += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.url\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.url = 'https://api.mapbox.com/styles/v1/';\n    this.init();\n    this.img = this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.url += this.options.username + '/': this.url += 'mapbox/';\n    (this.options.style != undefined) ? this.url += this.options.style + '/': this.url += 'streets-v10/';\n    this.url += 'static/';\n    (this.options.overlay != undefined) && (this.url += this.options.overlay + '/');\n    this.url += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.url += this.options[e] : this.url += 0;\n      i < 2 && (this.url += ',');\n    }) : this.url += 'auto';\n    this.url += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.url += '@2x');\n    this.url += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.url += '&attribution=' + this.options.attribution : this.url += '&attribution=false';\n    (this.options.logo) ? this.url += '&logo=' + this.options.logo : this.url += '&logo=false';\n    (this.options.before_layer) ? this.url += '&before_layer=' + this.options.before_layer : this.url += '&before_layer=false';\n    return this.url\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.url = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.init();\n    this.img = this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.url += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.url\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas.elt);\n    }\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let offsetX = - Math.round(this.canvas.width / 2 - center.x);\n      let offsetY = - Math.round(this.canvas.height / 2 - center.y);\n      let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      google.maps.event.addListener(this.map, 'bounds_changed', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n    this.canvas.parent(this.map.getCanvasContainer());\n    this.canvas.elt.style.position = 'absolute';\n\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}