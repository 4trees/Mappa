{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 093f9382f3cce890cdec","webpack:///./src/providers/static/StaticMap.js","webpack:///./src/providers/tile/Leaflet.js","webpack:///./src/providers/tile/TileMap.js","webpack:///./src/utils/parseGeoJSON.js","webpack:///./src/staticMap.js","webpack:///./src/tileMap.js","webpack:///./src/index.js","webpack:///./src/providers/static/Google.js","webpack:///./src/providers/static/Mapbox.js","webpack:///./src/providers/static/Mapquest.js","webpack:///./src/providers/tile/Google.js","webpack:///./src/providers/tile/Mapbox.js","webpack:///./src/providers/tile/Mapboxgl.js","webpack:///./src/providers/tile/Mapzen.js","webpack:///./src/providers/tile/Tangram.js"],"names":["StaticMap","options","init","pixels","scale","width","height","lat","lng","x","fromLngToPoint","y","fromLatToPoint","l","PI","pow","zoom","log","tan","radians","Leaflet","script","style","constructor","name","messages","tiles","map","L","center","inertia","tileLayer","addTo","on","ready","canvasOverlay","opacity","document","getElementsByClassName","background","backgroundColor","overlay","Layer","extend","onAdd","overlayPane","getPane","_container","DomUtil","create","appendChild","canvas","elt","drawLayer","addLayer","_canvas","getContext","d","dragging","_draggable","_newPos","transform","position","containerPoint","latLngToContainerPoint","args","containerPointToLatLng","getZoom","callback","setTimeout","onChange","console","warn","TileMap","scriptTag","getElementById","provider","createElement","type","src","id","head","styleTag","rel","href","onload","div","body","setAttribute","createMap","pos","Number","fromLatLngtoPixel","fromPointToLatLng","Math","floor","parseGeoJSON","data","result","features","Array","forEach","feature","f","eachFeature","undefined","push","hasOwnProperty","geometry","coordinates","geometries","tileMap","staticMap","Mappa","key","Object","assign","_options","userInput","el","i","option","module","exports","Google","imgUrl","createImage","size","valid","indexOf","s","m","Mapbox","username","auto","e","attribution","logo","before_layer","error","Mapquest","language","region","google","maps","Map","mapTypeId","maptype","styles","OverlayView","draw","setMap","getPanes","overlayLayer","event","addListener","getProjection","fromLatLngToDivPixel","getCenter","offsetX","round","offsetY","addListenerOnce","LatLng","topRight","fromLatLngToPoint","getBounds","getNorthEast","bottomLeft","getSouthWest","point","Point","latlng","mapbox","accessToken","setView","studio","styleLayer","Mapboxgl","mapboxgl","container","minZoom","maxZoom","bearing","pitch","renderWorldCopies","maxBounds","parent","getCanvasContainer","latLng","project","unproject","Mapzen","apiKey","tangramOptions","scene","BasemapStyles","Tangram","tangramScene","window","leafletLayer","subscribe","load"],"mappings":"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","file":"mappa.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Mappa\"] = factory();\n\telse\n\t\troot[\"Mappa\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 093f9382f3cce890cdec","// -----------\n// Static Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass StaticMap  {\n  constructor(options){\n    this.options = options;\n    this.init();\n  }\n\n  init(){\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        this.options.height = 1280;\n      }\n    }\n  }\n\n  latLngToPixel(lat, lng) {\n    return {\n      x: this.fromLngToPoint(lng) - this.fromLngToPoint(this.options.lng) + this.options.width/(2/this.options.scale),\n      y: this.fromLatToPoint(lat) - this.fromLatToPoint(this.options.lat) + this.options.height/(2/this.options.scale)\n    }\n  };\n\n  fromLatToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (PI - log(tan(PI / 4 + radians(l) / 2)));\n  }\n\n  fromLngToPoint(l){\n    return (((this.options.pixels) / PI) * pow(2, this.options.zoom)) * (radians(l) + PI);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n}\n\nexport { StaticMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/StaticMap.js","// -----------\n// Leaflet v1.0.3\n// Reference: http://leafletjs.com/reference-1.0.3.html\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Leaflet extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.js';\n    this.style = 'https://unpkg.com/leaflet@1.0.3/dist/leaflet.css';\n    this.constructor.name == 'Leaflet' && this.init();\n  }\n\n  createMap () {\n    // Check this when not using a map in the background\n    if(!this.options.style){\n      Leaflet.messages().tiles();\n      return\n    }\n\n    this.map = L.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      inertia: false,\n    });\n\n    this.tiles = L.tileLayer(this.options.style).addTo(this.map);\n    this.tiles.on('tileload', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  canvasOverlay () {\n    if(this.tiles){\n      this.tiles.options.opacity = this.options.opacity;\n      // Add this to documentation -> background color of the map.\n      document.getElementsByClassName('leaflet-container')[0].style.background = this.options.backgroundColor;\n    }\n\n    L.overlay = L.Layer.extend({\n      onAdd: () => {\n        let overlayPane = overlay.getPane();\n        let _container = L.DomUtil.create('div', 'leaflet-layer');\n        _container.appendChild(this.canvas.elt);\n        overlayPane.appendChild(_container);\n      },\n      drawLayer: () => {},\n    })\n\n    let overlay = new L.overlay();\n    this.map.addLayer(overlay);\n\n    let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n    this.map.on('move', () => {\n      var d = this.map.dragging._draggable;\n      d._newPos && (_canvas.canvas.style.transform = 'translate(' + -d._newPos.x + 'px,' + -d._newPos.y + 'px)');\n    })\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      let containerPoint = this.map.latLngToContainerPoint(position);\n      return {x:containerPoint.x, y:containerPoint.y};\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.containerPointToLatLng(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('move', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      tiles: () => {console.warn('You need to include a style for your Leaflet map. Try with: http://{s}.tile.osm.org/{z}/{x}/{y}.png')}\n    }\n  }\n}\n\nexport { Leaflet };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Leaflet.js","// -----------\n// Tiled Map\n// -----------\n\nimport { parseGeoJSON } from '../../utils/parseGeoJSON';\n\nclass TileMap {\n  constructor(options){\n    this.options = options;\n    this.scriptTag;\n  }\n\n  init() {\n    if(!document.getElementById(this.options.provider)) {\n      this.scriptTag = document.createElement('script');\n      this.scriptTag.type = 'text/javascript';\n      this.scriptTag.src = this.script;\n      this.scriptTag.id = this.options.provider;\n      document.head.appendChild(this.scriptTag);\n      if(this.style) {\n        let styleTag = document.createElement('link');\n        styleTag.rel = 'stylesheet';\n        styleTag.href = this.style;\n        document.head.appendChild(styleTag);\n      }\n    }\n  }\n\n  overlay(canvas){\n    this.scriptTag.onload = () => {\n      let div = document.createElement('div');\n      document.body.appendChild(div);\n      div.setAttribute('style', 'position:relative;width:'+ canvas.width + 'px;height:' + canvas.height + 'px;top:0;left:0;z-index:999');\n      div.setAttribute('id', 'mappa');\n      this.canvas = canvas;\n      this.createMap();\n    };\n  }\n\n  latLngToPixel(...args){\n    let pos;\n    (typeof args[0] == 'object') ? pos = args[0] : pos = {lat: Number(args[0]), lng: Number(args[1])};\n    return this.fromLatLngtoPixel(pos);\n  }\n\n  pixelToLatLng(...args){\n    return this.fromPointToLatLng(...args);\n  }\n\n  geoJSON(...args){\n    return parseGeoJSON(args[0], args[1]);\n  }\n\n  zoom(){\n    return Math.floor(this.getZoom());\n  }\n\n}\n\nexport { TileMap };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/TileMap.js","// -----------\n// Parse a GeoJSON file.\n// -----------\n\nlet parseGeoJSON = (data, type) => {\n  let result = [];\n\n  if (data.type === 'FeatureCollection') {\n    if (data.features instanceof Array) {\n      data.features.forEach(function(feature) {\n        let f = eachFeature(feature, type);\n        (f != undefined) && result.push(f);\n      });\n    }\n  } else {\n    result = eachFeature(data, type);\n  }\n  return result;\n}\n\nlet eachFeature = (feature, type) => {\n  if (feature.hasOwnProperty('geometry') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  } else if (feature.hasOwnProperty('geometries') && feature.geometries instanceof Array && feature.geometry.type == type) {\n    feature.geometries.forEach((geometry) => {\n      return feature.geometry.coordinates;\n    });\n  } else if (feature.hasOwnProperty('coordinates') && feature.geometry.type == type) {\n    return feature.geometry.coordinates;\n  }\n}\n\nexport { parseGeoJSON };\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/parseGeoJSON.js","// -----------\n// Static Map Providers\n// -----------\n\nexport * from './providers/static/Mapbox';\nexport * from './providers/static/Google';\nexport * from './providers/static/Mapquest';\nexport * from './providers/static/StaticMap';\n\n\n\n// WEBPACK FOOTER //\n// ./src/staticMap.js","// -----------\n// Tile Map Providers\n// -----------\n\nexport * from './providers/tile/Mapboxgl';\nexport * from './providers/tile/Google';\nexport * from './providers/tile/Leaflet';\nexport * from './providers/tile/Mapbox';\nexport * from './providers/tile/Mapzen';\nexport * from './providers/tile/Tangram';\n\n\n\n// WEBPACK FOOTER //\n// ./src/tileMap.js","/*\n* Mappa: A library to work with maps and p5.js\n* https://github.com/cvalenzuela/p5.maps\n*\n* Cristóbal Valenzuela\n* cv965@nyu.edu\n* Google Summer of Code 2017\n*/\n\n'use strict';\n\nconsole.log('%c p5.maps Loaded ✓', 'color:white; background:green;');\n\nimport * as tileMap from './tileMap';\nimport * as staticMap from './staticMap'\n\nclass Mappa {\n  constructor(provider, key) {\n    this.provider = provider;\n    this.key = key;\n  }\n\n  staticMap(...args) {\n    let options = {};\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      let _options = staticMap[this.provider].options().userInput\n      args.forEach((el, i) => {\n        let option = _options[i];\n        options[option] = el;\n      })\n    };\n    options.key = this.key;\n\n    this.provider == undefined && (this.provider = 'StaticMap');\n    return new staticMap[this.provider](options);\n  }\n\n  tileMap(...args){\n    let options;\n\n    if(typeof args[0] == 'object'){\n      options = Object.assign({}, args[0])\n    } else {\n      ['lat', 'lng', 'zoom'].forEach((el, i) => {\n        options[el] = args[i];\n      })\n    };\n    options.key = this.key;\n    options.provider = this.provider;\n    return new tileMap[this.provider](options);\n  }\n\n}\n\nmodule.exports = Mappa;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// -----------\n// Google Static Maps API v2\n// Reference: https://developers.google.com/maps/documentation/static-maps/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Google extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://maps.googleapis.com/maps/api/staticmap?';\n    this.init();\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 640){\n      Google.messages().size('width', this.options.width);\n      this.options.width = 640;\n    }\n    if (this.options.height > 640){\n      Google.messages().size('height', this.options.height);\n      this.options.height = 640;\n    }\n  }\n\n  createImage() {\n    !this.options.key && (delete this.options.key && (Google.messages().key()));\n\n    this.options.size = this.options.width + 'x' + this.options.height;\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n    !this.options.scale && (this.options.scale = 1);\n\n    for(let option in this.options){\n      (Google.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options(){\n    return {\n      valid: ['center', 'zoom', 'size', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'signature', 'key', 'signature'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'format', 'maptype', 'language', 'region', 'markers', 'path', 'visible', 'style', 'key', 'signature', 'center']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => {console.warn(`You requested an image with a ${s} of ${m}px. Google Maps Static API max ${s} value is 640px. For larger images, change the scale to 2 and keep the ${s} between 1-640px. i.e: if you want an image 800x800px, set the width and height to 400x400 and the scale to 2.`)},\n      key: () => {console.warn('For large requests please provide an API key for your Google Maps Static API.')},\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Google.js","// -----------\n// Mapbox Static API v1\n// Reference: https://www.mapbox.com/api-documentation/#static\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapbox extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://api.mapbox.com/styles/v1/';\n    this.init();\n    this.createImage();\n  }\n\n  init() {\n    this.options.pixels = 256;\n    !this.options.scale && (this.options.scale = 1)\n    if(this.options.scale == 2){\n      this.options.pixels = 512\n    } else{\n      if (this.options.width > 1280){\n        Mapbox.messages().size('width', this.options.width);\n        this.options.width = 1280;\n      }\n      if (this.options.height > 1280){\n        Mapbox.messages().size('height', this.options.width);\n        this.options.height = 1280;\n      }\n    }\n  };\n\n  createImage() {\n    if (!this.options.key){\n      Mapbox.messages().key();\n      return;\n    }\n    (this.options.username != undefined) ? this.imgUrl += this.options.username + '/': this.imgUrl += 'mapbox/';\n    (this.options.style != undefined) ? this.imgUrl += this.options.style + '/': this.imgUrl += 'streets-v10/';\n    this.imgUrl += 'static/';\n    (this.options.overlay != undefined) && (this.imgUrl += this.options.overlay + '/');\n    this.imgUrl += this.options.lng + ',' + this.options.lat + ',';\n    (this.options.auto == false || this.options.auto == undefined) ?\n    ['zoom', 'bearing', 'pitch'].forEach((e,i) => {\n      (this.options[e] != undefined) ? this.imgUrl += this.options[e] : this.imgUrl += 0;\n      i < 2 && (this.imgUrl += ',');\n    }) : this.imgUrl += 'auto';\n    this.imgUrl += '/' + this.options.width + 'x' + this.options.height;\n    (this.options.scale == 2) && (this.imgUrl += '@2x');\n    this.imgUrl += '?access_token=' + this.options.key;\n    (this.options.attribution) ? this.imgUrl += '&attribution=' + this.options.attribution : this.imgUrl += '&attribution=false';\n    (this.options.logo) ? this.imgUrl += '&logo=' + this.options.logo : this.imgUrl += '&logo=false';\n    (this.options.before_layer) ? this.imgUrl += '&before_layer=' + this.options.before_layer : this.imgUrl += '&before_layer=false';\n    return this.imgUrl\n  };\n\n  static options(){\n    return {\n      valid: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'bearing', 'pitch', 'style', 'username', 'overlay', 'attribution', 'logo', 'before_layer', 'center', 'size']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s, m) => console.warn(`You requested an image with a ${s} of ${m}px. Mapbox Static API max ${s} value is 1280px. If you want a large image change the scale to 2.`),\n      key: () => {console.error('Mapbox Static API needs a key to work. To get a key visit: https://www.mapbox.com/api-documentation/#static')},\n    }\n  }\n}\n\nexport { Mapbox }\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapbox.js","// -----------\n// Mapquest v5\n// Reference: https://developer.mapquest.com/documentation/static-map-api/v5/\n// -----------\n\nimport { StaticMap } from './StaticMap';\n\nclass Mapquest extends StaticMap {\n  constructor(options){\n    super(options);\n    this.imgUrl = 'https://www.mapquestapi.com/staticmap/v5/map?';\n    this.init();\n    this.createImage();\n  }\n\n  init() {\n    if(this.options.scale == 1 || this.options.scale == undefined) {\n      this.options.pixels = 128\n      this.options.scale = 1;\n    } else if (this.options.scale == 2){\n      this.options.pixels = 256;\n    }\n    if (this.options.width > 1920){\n      Mapquest.messages().size('width', this.options.width);\n      this.options.width = 1920;\n    }\n    if (this.options.height > 1920){\n      Mapquest.messages().size('height', this.options.height);\n      this.options.height = 1920;\n    }\n  }\n\n  createImage() {\n    if(!this.options.key){\n      Mapquest.messages().key();\n      return\n    }\n\n    this.options.size = this.options.width + ',' + this.options.height;\n    this.options.scale == 2 && (this.options.size += '@2x');\n    !this.options.center && (this.options.center = this.options.lat + ',' + this.options.lng);\n\n    for(let option in this.options){\n      (Mapquest.options().valid.indexOf(option) > -1) && (this.imgUrl += '&' + option + '=' + this.options[option]);\n    }\n\n    return this.imgUrl\n  }\n\n  static options () {\n    return {\n      valid: ['key', 'size','zoom', 'center', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key'],\n      userInput: ['lat', 'lng', 'zoom', 'width', 'height', 'scale', 'boundingBox', 'margin', 'format', 'type', 'scalebar', 'locations', 'declutter', 'defaultMarker', 'banner', 'traffic', 'key']\n    }\n  }\n\n  static messages(){\n    return {\n      size: (s,m) => {console.warn(`You requested an image with a ${s} of ${m}px. Mapquest Static API max ${s} value is 1920px. For larger images, change the scale to 2 and keep the ${s} between 170x30px. i.e: if you want an 3840x3840px image, set the width and height to 1920x1920 and the scale to 2.`)},\n      key: () => {console.warn('Please provide and API key to work with Mapquest Static API. Get one here: https://developer.mapquest.com/documentation/')}\n    }\n  }\n}\n\nexport { Mapquest };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/static/Mapquest.js","// -----------\n// Google Maps JavaScript v3.28\n// Reference: https://developers.google.com/maps/documentation/javascript/\n// -----------\n\nimport { TileMap } from './TileMap';\n\nclass Google extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://maps.googleapis.com/maps/api/js';\n    this.options.key && (this.script += '?key=' + this.options.key);\n    this.options.language && (this.script += '&language=' + this.options.language);\n    this.options.region && (this.script += '&region=' + this.options.region);\n    this.init();\n  }\n\n  createMap () {\n    !this.options.key && Google.messages().key();\n\n    this.map = new google.maps.Map(document.getElementById('mappa'), {\n      center: {lat: this.options.lat, lng: this.options.lng},\n      zoom: this.options.zoom || 6,\n      mapTypeId: this.options.maptype || 'terrain',\n      styles: this.options.styles || '',\n    });\n\n    let overlay = new google.maps.OverlayView();\n    overlay.draw = function(){}\n    overlay.setMap(this.map);\n    overlay.onAdd = () => {\n      overlay.getPanes().overlayLayer.appendChild(this.canvas.elt);\n    }\n\n    google.maps.event.addListener(this.map, 'bounds_changed', () => {\n      let center = overlay.getProjection().fromLatLngToDivPixel(this.map.getCenter());\n      let offsetX = - Math.round(this.canvas.width / 2 - center.x);\n      let offsetY = - Math.round(this.canvas.height / 2 - center.y);\n      let _canvas = this.canvas.elt.getContext('webgl') || this.canvas.elt.getContext('2d');\n      _canvas.canvas.style.transform = 'translate(' + offsetX + 'px,' + offsetY + 'px)';\n    })\n\n    google.maps.event.addListenerOnce(this.map, 'tilesloaded', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(position) {\n    if(this.ready){\n      position = new google.maps.LatLng(position)\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = this.map.getProjection().fromLatLngToPoint(position);\n      return new google.maps.Point((point.x - bottomLeft.x) * scale, (point.y - topRight.y) * scale);\n    } else{\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      let topRight = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getNorthEast());\n      let bottomLeft = this.map.getProjection().fromLatLngToPoint(this.map.getBounds().getSouthWest());\n      let scale = Math.pow(2, this.map.getZoom());\n      let point = new google.maps.Point(args[0] / scale + bottomLeft.x, args[1] / scale + topRight.y);\n      let latlng = this.map.getProjection().fromPointToLatLng(point);\n      return {lat: latlng.lat(), lng: latlng.lng()};\n    } else {\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom() {\n    if(this.ready){\n      return this.map.getZoom()\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      google.maps.event.addListener(this.map, 'bounds_changed', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Goolge Maps API Key. Get one here: https://developers.google.com/maps/documentation/javascript/ ')}\n    }\n  }\n}\n\nexport { Google };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Google.js","// -----------\n// Mapbox v3.1.1\n// Reference: https://www.mapbox.com/mapbox.js/api/v3.1.1/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapbox extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js';\n    this.style = 'https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.mapbox.accessToken = this.options.key\n    } else {\n      Mapbox.messages().key();\n      return\n    }\n\n    // Create a Mapbox Map\n    this.map = L.mapbox.map('mappa').setView(\n      [this.options.lat, this.options.lng], this.options.zoom\n    );\n\n    (this.options.studio)? this.tiles = L.mapbox.styleLayer(this.options.style || 'mapbox://styles/mapbox/emerald-v8').addTo(this.map) : this.tiles = L.mapbox.tileLayer(this.options.style || 'mapbox.streets').addTo(this.map);\n\n    this.tiles.on('ready', () => { this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox API key. Get one here: https://www.mapbox.com/mapbox.js/api/v3.1.1')}\n    }\n  }\n}\n\nexport { Mapbox };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapbox.js","// -----------\n// Mapbox-gl v0.37.0\n// Reference: https://www.mapbox.com/mapbox-gl-js/api/\n// -----------\n\nimport { TileMap } from './TileMap'\n\nclass Mapboxgl extends TileMap {\n  constructor(options){\n    super(options);\n    this.script = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.js';\n    this.style = 'https://api.mapbox.com/mapbox-gl-js/v0.37.0/mapbox-gl.css';\n    (!this.options.key) ? Mapboxgl.messages().key() : this.init();\n  }\n\n  createMap () {\n    mapboxgl.accessToken = this.options.key;\n    this.map = new mapboxgl.Map({\n      container: 'mappa',\n      style: this.options.style || 'mapbox://styles/mapbox/satellite-streets-v10',\n      center: [this.options.lng, this.options.lat],\n      zoom: this.options.zoom,\n      minZoom: this.options.minZoom || 0,\n      maxZoom: this.options.maxZoom || 22,\n      bearing: this.options.bearing || 0,\n      pitch: this.options.pitch || 0,\n      renderWorldCopies: true && this.options.renderWorldCopies,\n      maxBounds: this.options.maxBounds || undefined\n    });\n    this.canvas.parent(this.map.getCanvasContainer());\n    this.canvas.elt.style.position = 'absolute';\n\n    this.options.opacity && (document.getElementsByClassName('mapboxgl-canvas')[0].style.opacity = this.options.opacity);\n\n    this.map.on('load', () => { this.ready = true; });\n  }\n\n  fromLatLngtoPixel(latLng){\n    if(this.ready){\n      return this.map.project(latLng);\n    } else {\n      return {x:-100, y:-100};\n    }\n  }\n\n  fromPointToLatLng(...args){\n    if(this.ready){\n      return this.map.unproject(args);\n    } else{\n      return {lat:-100, lng:-100};\n    }\n  }\n\n  getZoom () {\n    if(this.ready){\n      return this.map.getZoom();\n    } else {\n      return 0\n    }\n  }\n\n  onChange(callback) {\n    if(this.ready){\n      callback()\n      this.map.on('render', () => {\n        callback();\n      })\n    } else {\n      setTimeout(() => {this.onChange(callback)}, 200);\n    }\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a Mapbox-gl API key. Get one here: https://www.mapbox.com/mapbox-gl-js/api/')}\n    }\n  }\n\n}\n\nexport { Mapboxgl };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapboxgl.js","// -----------\n// Mapzen v0.12.5\n// Reference: https://mapzen.com/documentation/mapzen-js/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Mapzen extends Leaflet {\n  constructor(options){\n    super(options);\n    this.script = 'https://mapzen.com/js/mapzen.min.js';\n    this.style = 'https://mapzen.com/js/mapzen.css';\n    this.init();\n  }\n\n  createMap () {\n    if(this.options.key){\n      L.Mapzen.apiKey = this.options.key;\n    } else {\n      Mapzen.messages().key();\n      return\n    }\n\n    // Create a Mapzen Map\n    this.map = L.Mapzen.map('mappa', {\n      center: [this.options.lat, this.options.lng],\n      zoom: this.options.zoom,\n      tangramOptions: {\n        scene: (this.options.BasemapStyles) ? L.Mapzen.BasemapStyles[this.options.scene] : this.options.scene,\n      }\n    });\n    this.map.on('tangramloaded', () =>{ this.ready = true; });\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Mapzen };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Mapzen.js","// -----------\n// Tangram v0.12.5\n// Reference: https://mapzen.com/documentation/tangram/\n// -----------\n\nimport { Leaflet } from './Leaflet';\n\nclass Tangram extends Leaflet {\n  constructor(options){\n    super(options);\n    this.options.provider = 'Leaflet';\n    this.init();\n    this.options.provider = 'Tangram';\n    this.script = 'https://mapzen.com/tangram/tangram.min.js';\n    this.init();\n  }\n\n  createMap () {\n\n    // Create a Tangram Map\n    this.map = L.map('mappa');\n    this.tangramScene = window.Tangram.leafletLayer({\n        scene: this.options.scene,\n        attribution: '<a href=\"https://mapzen.com/tangram\" target=\"_blank\">Tangram</a> | &copy; OSM contributors | <a href=\"https://mapzen.com/\" target=\"_blank\">Mapzen</a>'\n    });\n    this.tangramScene.addTo(this.map);\n    this.map.setView([this.options.lat, this.options.lng], this.options.zoom);\n\n    this.tangramScene.scene.subscribe({ load: () => { this.ready = true }});\n\n    this.canvasOverlay();\n  }\n\n  static messages(){\n    return {\n      key: () => {console.warn('Please provide a API key for your Mapzen map.')}\n    }\n  }\n}\n\nexport { Tangram };\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/tile/Tangram.js"],"sourceRoot":""}